---
import { Icon } from 'react-iconify-icon-wrapper'

export interface Requirement {
  displayName: string
  met: boolean
  callToAction?: {
    text: string
    url: string
  }
}

interface Props {
  requirements: Requirement[]
}

const { requirements } = Astro.props
---

<div class="space-y-2">
  {requirements.map((req) => (
    <div class="flex items-center">
      <span
        class={`mr-2 inline-flex items-center justify-center h-5 w-5 rounded-full ${req.met ? 'bg-green-500' : 'bg-red-500'}`}
      >
        {req.met ? (
          <Icon icon="heroicons:check" className="text-white h-4 w-4" />
        ) : (
          <Icon icon="heroicons:x-mark" className="text-white h-4 w-4" />
        )}
      </span>
      <span>{req.displayName}</span>
      {!req.met && req.callToAction && (
        <a
          href={req.callToAction.url}
          class="ml-2 text-sm text-blue-600 hover:underline"
          target={req.callToAction.url.startsWith('http') ? "_blank" : undefined}
        >
          {req.callToAction.text}
        </a>
      )}
    </div>
  ))}
</div>