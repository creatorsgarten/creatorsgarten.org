---
import Blank from './blank.astro'

import AuthButton from '$components/authButton.astro'
import Announcement from '$components/announcement.astro'
import FooterLogo from './footerLogo.astro'
import HeaderLogo from './headerLogo.astro'

import { getFeatureFlags } from '$functions/getFeatureFlags'
import HeaderOgImage from './headerOgImage.astro'

export interface Props {
  class?: string
}

const featureFlags = getFeatureFlags(Astro)
---

<Blank>
  {
    featureFlags.isEnabled('og:image') ? (
      <Fragment>
        <div class="mb-8 flex h-[285px] items-center justify-center">
          <HeaderOgImage />
        </div>
      </Fragment>
    ) : (
      <Fragment>
        <Announcement />

        {/* <nav class="flex flex-col justify-between px-4 pb-8 pt-6 text-xl sm:flex-row lg:px-8">
          <div class="flex w-full justify-between">
            <a href="/" aria-label="back to home" class="flex items-center">
              <HeaderLogo />
            </a>
            <button
              class="ml-auto text-3xl sm:hidden"
              onclick="let m=document.getElementById('nav-menu');m.classList.toggle('block');m.classList.toggle('hidden');"
            >
              ğŸ”
            </button>
          </div>
          <div
            id="nav-menu"
            class="ml-auto hidden w-full items-center pt-6 text-sm font-medium sm:col-span-1 sm:flex sm:w-auto sm:space-x-1 sm:p-0"
          >
            <ul
              class={`mb-2 flex shrink-0 justify-between gap-2 px-3 py-1 text-lg uppercase sm:mb-0 sm:flex sm:space-x-2 md:list-none md:text-base`}
            >
              <li>
                <a href="/wiki/SelfIntroduction">Us</a>
              </li>
              <li>
                <a href="/events">Events</a>
              </li>
              <li>
                <a href="/videos">Videos</a>
              </li>
              <li>
                <a href="/wiki">Wiki</a>
              </li>
            </ul>
            <AuthButton />
          </div>
        </nav> */}
        <nav class="z-999 bg-white md:relative">
          <div class="sticky top-0 w-full border-b border-black bg-white p-4">
            <div class="flex justify-between">
              <a href="/" aria-label="back to home" class="flex items-center">
                <img src="/images/icons/solid.svg" class="w-6" alt="" />
              </a>
              <div class="text-xl font-medium">CREATORSGARTEN</div>
            </div>
          </div>
          <div class="flex w-full justify-between gap-3 border-b border-black bg-neutral-100 px-4 py-2 text-base font-medium lg:gap-5">
            <ul class="flex gap-5">
              <li>
                <a href="/events">Event</a>
              </li>
              {/* <li>
                <a href="https://github.com/creatorsgarten">Code</a>
              </li> */}
              <li>
                <a href="/videos">Videos</a>
              </li>
              <li>
                <a href="/wiki/SelfIntroduction">About</a>
              </li>
              <li>
                <a href="/wiki">Wiki</a>
              </li>
            </ul>
            <div>
              <AuthButton />
            </div>
          </div>
        </nav>
      </Fragment>
    )
  }
  <main {...{ class: ' ' + Astro.props.class ?? '' }}>
    <slot />
  </main>

  <!-- <footer
    class="mt-16 flex h-40 flex-col-reverse items-start justify-start bg-ck p-4 text-white sm:flex-row sm:items-end sm:justify-between lg:p-8 lg:text-lg"
  >
    <div class="mt-4 sm:mt-0">Crafted by ğŸ‘©â€ğŸ’» ğŸ§‘â€ğŸ¨ ğŸ§™ ğŸ¦¹â€â™€ï¸ & more.</div>
    <FooterLogo />
  </footer> -->

  <footer
    class="mt-12 flex w-full items-end justify-between border-t border-black bg-black p-4 pt-16 text-white"
  >
    <div class="text-base md:text-lg">Made with ğŸ’— (+ğŸ§‹) by ğŸ‘¨â€ğŸ’» ğŸ‘©â€ğŸ¨ ğŸ§™ ğŸ¦¸</div>
    <FooterLogo />
  </footer>
</Blank>
